(this["webpackJsonpbeer-shop"]=this["webpackJsonpbeer-shop"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},241:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),s=n(62),l=(n(165),n(166),n(21)),o=n(44),j=n(270),b=n(268),u=n(47),d=n(269),h=(n(167),n(20)),p=n(267),m=n(265),O=n(6),f={rules:[{type:"object",required:!0,message:"Please select time!"}]},x={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},v={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function g(e){var t=e.isVisible,n=p.a.useForm(),r=Object(o.a)(n,1)[0];return Object(O.jsxs)(p.a,Object(h.a)(Object(h.a)({},x),{},{form:r,name:"register",onFinish:function(e){console.log("Received values of form: ",e),t()},scrollToFirstError:!0,children:[Object(O.jsx)(p.a.Item,{name:"firstname",label:"First name",rules:[{required:!0,message:"Please input your first name!",whitespace:!0},{pattern:"^[a-zA-Z]{1,20}$",message:"Please use only latin letters!"}],children:Object(O.jsx)(b.a,{})}),Object(O.jsx)(p.a.Item,{name:"secondname",label:"Second name",rules:[{required:!0,message:"Please input your first name!",whitespace:!0},{pattern:"^[a-zA-Z]{1,20}$",message:"Please use only latin letters!"}],children:Object(O.jsx)(b.a,{})}),Object(O.jsx)(p.a.Item,Object(h.a)(Object(h.a)({name:"date-picker",label:"Birth Date"},f),{},{children:Object(O.jsx)(m.a,{})})),Object(O.jsx)(p.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},function(){return{validator:function(e,t){return!t||t.length>=6?Promise.resolve():Promise.reject(new Error("Please input 6 or more symbols in your password"))}}}],hasFeedback:!0,children:Object(O.jsx)(b.a.Password,{})}),Object(O.jsx)(p.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(O.jsx)(b.a.Password,{})}),Object(O.jsx)(p.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(O.jsx)(b.a,{})}),Object(O.jsx)(p.a.Item,Object(h.a)(Object(h.a)({},v),{},{children:Object(O.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))}var y=n(25),w="SET_API_DATA",_="SET_BEER_NAME",I="SET_CART_ITEMS",P="SET_CURRENT_PAGE",E="SET_FILTER";function N(){var e=Object(y.b)(),t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(O.jsxs)("div",{id:"header",children:[Object(O.jsx)(j.b,{direction:"vertical",children:Object(O.jsx)(b.a,{placeholder:"Type name of beer",onChange:function(t){var n,r=t.target;e((n=r.value,{type:_,payload:n}))}})}),Object(O.jsxs)("div",{className:"buttons_wrapper",children:[Object(O.jsx)(s.b,{to:"/cart",children:Object(O.jsx)(u.a,{id:"cart_btn",children:"Cart"})}),Object(O.jsx)(u.a,{id:"sign_up_btn",type:"primary",onClick:function(){c(!0)},children:"Sign up"})]}),Object(O.jsx)(d.a,{visible:a,title:"Registration",onOk:function(){setTimeout((function(){c(!1)}),1e3)},onCancel:function(){c(!1)},footer:null,children:Object(O.jsx)(g,{isVisible:function(){return c(!1)}})})]})}var C=n(123),T=n.n(C),S=n(150),k=(n(241),n(151)),A=n.n(k).a.create({baseURL:"https://api.punkapi.com/v2",responseType:"json"}),R=n(157),F=function(e){return{type:I,payload:e}};n(259);function B(e){var t=e.item,n=Object(y.b)(),a=Object(y.c)((function(e){return e.catalogItem.cartItems})),c=t.image_url,i=t.id,s=t.name,l=t.abv,j=t.ibu,b=t.target_fg,u=t.target_og,d=t.ebc,h=t.srm,p=t.ph,m=t.attenuation_level,f=Object(r.useState)(!1),x=Object(o.a)(f,2),v=x[0],g=x[1];return Object(O.jsxs)("div",{className:"wrapper_item",children:[Object(O.jsx)("img",{src:c||"https://clck.ru/U9RrJ",alt:""}),Object(O.jsxs)("div",{className:"description",children:[Object(O.jsx)("h4",{children:s}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"ABV: "}),l]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"IBU: "}),j]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"FG/OG: "}),b,"/",u]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"EBC: "}),null===d?0:d]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"SRM: "}),null===h?0:h]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Ph: "}),p]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Attenuation level: "}),m]}),Object(O.jsxs)("div",{className:"checkbox_wrapper",children:[Object(O.jsx)("input",{type:"checkbox",name:"Add to cart",id:i,onChange:!1===v?function(){g(!0),0===a.filter((function(e){return e.id!==i?0:1})).length&&n(F([].concat(Object(R.a)(a),[{id:i,name:s,image_url:c}])))}:function(){g(!1);var e=a.filter((function(e){return e.id!==i?e:null}));n(F(e))}}),Object(O.jsx)("label",{htmlFor:"add_to_cart",children:"Add to cart"})]})]})]},i)}var D=n(266);function q(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.main.apiData})),n=Object(r.useState)(1),a=Object(o.a)(n,2),c=a[0],i=a[1];return Object(O.jsx)("div",{className:"pagination",children:Object(O.jsx)(D.a,{showSizeChanger:!1,current:c,onChange:function(t){i(t),e({type:P,payload:t})},total:t.length?t.length:1})})}n(260);function U(){var e=Object(y.b)();return Object(O.jsx)("div",{className:"filter",children:Object(O.jsxs)("select",{onChange:function(t){var n,r=t.target;e((n=r.value,{type:E,payload:n}))},children:[Object(O.jsx)("option",{value:"",children:"Choose a filter"}),Object(O.jsx)("option",{value:"abv",children:"ABV"}),Object(O.jsx)("option",{value:"ibu",children:"IBU"}),Object(O.jsx)("option",{value:"ebc",children:"EBC"})]})})}var V=function(e){return{type:w,payload:e}},z=function(e,t){switch(t){case"abv":return e.sort((function(e,t){return e.abv>t.abv?1:-1}));case"ibu":return e.sort((function(e,t){return e.ibu>t.ibu?1:-1}));case"ebc":return e.sort((function(e,t){return e.ebc>t.ebc?1:-1}));default:return e}};function M(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e})),n=Object(r.useState)([]),a=Object(o.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){function n(){return(n=Object(S.a)(T.a.mark((function n(){var r,a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==t.header.beerName){n.next=6;break}return n.next=3,A.get("beers?per_page=80");case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,A.get("beers?page=1&per_page=80&beer_name=".concat(t.header.beerName));case 8:n.t0=n.sent;case 9:r=n.t0,i(r.data),a=z(c,t.filter.filter),e(V(a));case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),console.log(t)}),[t.filter.filter,t.header.beerName,t.catalogItem.cartItems]),Object(r.useEffect)((function(){var n=z(c,t.filter.filter);e(V(n))}),[c]);var s=t.main.apiData.slice(10*(t.pagination.currentPage-1),10*t.pagination.currentPage);return Object(O.jsxs)("div",{id:"main",children:[Object(O.jsx)("h3",{children:"Catalog"}),Object(O.jsx)("div",{className:"filters",children:Object(O.jsx)(U,{})}),Object(O.jsx)("div",{className:"items_wrapper",children:0!==(null===c||void 0===c?void 0:c.length)?s.map((function(e){return Object(O.jsx)(B,{item:e},e.id)})):Object(O.jsx)("div",{style:{fontWeight:"700",fontSize:"2rem"},children:"Catalog has no items now"})}),Object(O.jsx)(q,{})]})}n(261),n(262);function G(e){var t=e.item,n=t.image_url,r=t.name,a=t.id,c=Object(y.b)(),i=Object(y.c)((function(e){return e.catalogItem.cartItems}));return Object(O.jsx)("div",{className:"cart_wrapper",children:Object(O.jsxs)("div",{className:"cart_item",children:[Object(O.jsx)("img",{src:n,alt:""}),Object(O.jsx)("div",{className:"description",children:Object(O.jsxs)("h4",{children:[r,"Name"]})}),Object(O.jsx)("div",{className:"cart_button",children:Object(O.jsx)("button",{onClick:function(e){var t=e.target,n=i.filter((function(e){return e.id!==Number(t.id)?e:null}));c(F(n))},id:a,children:"Remove item"})})]})})}function J(){var e=Object(y.c)((function(e){return e.catalogItem.cartItems}));return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(s.b,{to:"/main",style:{textDecoration:"none"},children:Object(O.jsx)("div",{id:"arrow",title:"Return to catalog",children:"\u2190"})}),Object(O.jsx)("h3",{children:"Cart"}),Object(O.jsx)("div",{id:"cart",children:0===e.length?null:e.map((function(e){return Object(O.jsx)(G,{item:e},e.id)}))})]})}var L=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(N,{}),Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/main",component:M}),Object(O.jsx)(l.b,{path:"/cart",component:J}),Object(O.jsx)(l.a,{to:"/main"})]})]})},W=n(61),Z={cartItems:[]};var $={filter:""};var H={beerName:""};var K={apiData:[]};var Q={currentPage:1};var X=Object(W.combineReducers)({catalogItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(h.a)(Object(h.a)({},e),{},{cartItems:t.payload});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(h.a)(Object(h.a)({},e),{},{filter:t.payload});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(h.a)(Object(h.a)({},e),{},{beerName:t.payload});default:return e}},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(h.a)(Object(h.a)({},e),{},{apiData:t.payload});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.payload});default:return e}}}),Y=n(153),ee=Object(W.createStore)(X,Object(Y.composeWithDevTools)());i.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(y.a,{store:ee,children:Object(O.jsx)(L,{})})})}),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.08b4e995.chunk.js.map